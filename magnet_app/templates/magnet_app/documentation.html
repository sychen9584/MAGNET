<!doctype html>
<html>
<head>
    {% load bootstrap4 %}
    {% load static %}
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'magnet_app/css/style_base.css' %}">
    
    <title>MAGNET Documentation</title>

</head>
 
<body>

    <div class="container" style="margin-top:50px">
    
        <h1><a href="{% url 'index' %}">MAGNET</a> Documentation</h1>
        <br />

        <!-- Nav panes -->
        <ul class="nav nav-tabs nav-justified" role="tablist">
            <li class="nav-item">
                <a class="nav-link {{nav.0}}" data-toggle="tab" href="#usage"><h5>Usage Instructions</h5></a>
            </li>

            <li class="nav-item">
                <a class="nav-link {{nav.1}}" data-toggle="tab" href="#faq"><h5>FAQ</h5></a>
            </li>
            
            <li class="nav-item">
                <a class="nav-link {{nav.2}}" data-toggle="tab" href="#exp_output"><h5>Explanation of Output</h5></a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
  
            <div id="usage" class="container tab-pane {{content.0}}"><br>
                <div class="container">
                    <h3>Usage Instructions</h3>
                    <hr />
                    <h4>Step 1: Specify how many gene sets/clusters you are submitting</h4>
                    <img src="{% static 'magnet_app/images/instruction_1.jpg' %}" alt="instruction_1"  width="40%">
                    
                    <br><br>
                    
                    <h4>Step 2: Upload your gene sets/clusters</h4>
                    <p>Input the gene sets through either text area or file upload. If you selected multiple clusters in Step 1, only file upload will be available.</p>
      
                    <img src="{% static 'magnet_app/images/instruction_2.jpg' %}" alt="instruction_2" width="40%">
                    <p>Acceptable input files are csv files (other allowed file formats will be implemented)
                    with gene names in the 1st column, which can be either MGI gene symbols or ENSEMBL IDs,
                    and user-assigned set/cluster number in the 2nd column. The 2nd column is not required
                    if you are submitting only one gene set.</p>
                    <img src="{% static 'magnet_app/images/instruction_3.jpg' %}"
                    alt="instruction_3" width="13%">
       
                    <br><br>

                    <h4>Step 3: Choose background calculation mode</h4>
                    <img src="{% static 'magnet_app/images/instruction_4.jpg' %}"
                    alt="instruction_4" width="30%">
                    
                    <br>
       
                    <ul>
                        <li>If <b>INTERSECT</b> is selected, the overlap between user
                        supplied background and the genes associated in each datasets 
                        will be used as background</li>

                        <li>If <b>USER</b> is selected, the user supplied background gene list will be
                        used as background</li>
                    </ul>

                    <p>More description on the statistical tests being performed can be found in the
                    <b>Explanation of Output</b> tab.</p>
                
                    <br>

                    <h4>Step 4: Upload your background gene list</h4>
                    <p>Paste here a list of background genes, in either MGI symbols or 
                    ENSEMBL IDs.</p>
                    <img src="{% static 'magnet_app/images/instruction_5.jpg' %}"
                    alt="instruction_5" width="40%">
                    
                    <br>

                    <p>If using file upload, input the gene names in the 1st column
                    of the csv file.</p>
       
                    <br>

                    <h4>Step 5: Choose datasets you desire to be analyzed by MAGNET</h4>
                    <p>Simply deselect any dataset you don't want to be processed by MAGNET.
                    Click the names to gain more info on each dataset.</p>
                    <img src="{% static 'magnet_app/images/instruction_6.jpg' %}"
                    alt="instruction_6" width="35%">

                    <p>Alternatively, submit custom datasets you wish to test agasint
                        by file upload. The file format requirements are the same as in step 2.
                    </p>

                    <img src="{% static 'magnet_app/images/instruction_7.jpg' %}"
                    alt="instruction_7" width="25%">
       
                    <br><br>

                    <h4>Step 6: Press submit button</h4>
                    <img src="{% static 'magnet_app/images/instruction_8.jpg' %}"
                    alt="instruction_8" width="10%">

                    <br>
      
    
                </div>
            </div>

            <div id="faq" class="container tab-pane {{content.1}}"><br>
                <div class="container">
                    <h3>Frequently Asked Questions</h3>

                    <hr />
     
                    <h5>Question: What does MAGNET stands for?</h5>
                    <p><b>Answer:</b> Macrophage Annotation of Gene Network Enrichment Tool</p>
                    <br>

                    <h5>Question: Do MAGNET support human genome?</h5>
                    <p><b>Answer:</b> MAGNET only supports mouse genome at the moment. However, we plan to implment this feature in the future. </p>
                    <br>

                    <h5>Question: How often will MAGNET be updated?</h5>
                    <p><b>Answer:</b> There are no fixed schedules, but MAGNET database will be updated regularly as relavent macrophage related manuscripts and improved gene annotations become available.</p>
                    <br>

                    <h5>Question: What gene name formats do MAGNET support?</h5>
                    <p><b>Answer:</b> MAGNET supports ENSEMBL gene IDs and MGI gene symbols.</p>
                    
                </div>
            </div>
    
    
            <div id="exp_output" class="container tab-pane {{content.2}}"><br>
                <div class="container">
                    <h3>Explanation of Output</h3>
                    <hr />

                    <h4>Interpreting the results from MAGNET</h4>
                    <br>
                    
                    <img src="{% static 'magnet_app/images/exp_output_4.jpg' %}"
                    alt="exp_output_4" class="mx-auto d-block", width="90%">
                    <br>
                    <img src="{% static 'magnet_app/images/exp_output_5.jpg' %}"
                    alt="exp_output_5" class="mx-auto d-block", width="85%">
                    
                    <hr />

                    <h4>Intro to the enrichment test implemented in MAGNET</h4>
                    <br>
                    <p>Similar to Gene Ontology (GO) analyses,
                    MAGNET utilizes the hypergeometric distribution to assess significance,
                    given by the following formula: </p>
                    <img src="{% static 'magnet_app/images/exp_output_1.jpg' %}"
                    alt="exp_output_1" class="center", width="80%">
    
                    <br>
      
                    <p>Let's say an user obtained a list of differentially regulated genes in macrophages
                    during infection (DE), and want to find out if they are enriched for 
                    inflammatory genes annotated in an unrelated dataset (IF).</p>
      
                    <img src="{% static 'magnet_app/images/exp_output_2.jpg' %}"
                    alt="exp_output_2" class="center", width="60%">
       
                    <br>
      
                    <p>Depending on what background calculation mode is selected,
                    their respective venn diagram illustrations and hypergeometric p-values will be: </p>
      
                    <img src="{% static 'magnet_app/images/exp_output_3.jpg' %}"
                    alt="exp_output_3" class="mx-auto d-block", width="80%">
       
      
                </div>
            </div>
        </div>
    </div>

</body>
</html>